# Defensive ProgrammingThere are two types of things that can go wrong at runtime:1. Input errors and other anticipated conditions that need custom handling2. Unanticipated errors: failing preconditions, invariants and postconditions## Unanticipated Errors: Failing Preconditions, Invariants and PostconditionsThese all indicate bugs/programming errors and typically should lead to application shutdown.  In code, this should lead to:1. Throwing an XxxException which is not expected to be caught/handled except logging/graceful shutdown at the top-level2. Enough info should be in the exception to lead to the programming error/bugBut: 1.  This is really no different from the types of assertions made during unit testing 2.  Common practice is still to disable certain assertions in release builds due to their ‘haviness’. Java: assert, C#: code contracts:  - http://programmers.stackexchange.com/questions/137158/is-it-better-to-use-assert-or-illegalargumentexception-for-required-method-param - http://msdn.microsoft.com/en-us/library/system.argumentexception(v=vs.110).aspx### When to use Java:AssertionError/C#:AssertFailedException vs. Java:IllegalArgumentException/C#:InvalidArgumentException ? Recommendation: have two ‘dual’ classes:- `Contract`: with methods used for argument validation, never disabled in release code and leading to XxxArgumentException’s being thrown- `Assert`: with methods for all kinds of validation, optionally disabled in release code and leading to AssertXxx exceptions being thrown    For Java: use of assert statement- `Check`: with similar methods like Assert but never throwing, only returning a bool (to re-use more involved comparisons/checks) ## Anticipated Errors: Input errors and other anticipated conditions that need custom handlingThese are **not** programming errors: they are anticipating exceptional conditions to get handled without application shutdown.In code, this should lead to:- Having TryXxx() or similar methods available that enable checking whether something will succeed or not- The throwing of a specific XxxException where the exception is documented in the method docs and can sensibly be caught and handled by a callerConcrete:- In Java: use of checked exceptions- In C#: use of exceptions that are documented with the methods that throw them## Links- http://codebetter.com/patricksmacchia/2013/12/18/code-contracts-is-the-next-coding-practice-you-should-learn-and-use/- http://codebetter.com/patricksmacchia/2010/07/26/code-contracts-and-automatic-testing-are-pretty-much-the-same-thing/