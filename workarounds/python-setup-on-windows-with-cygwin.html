<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="../media/style.css" rel="stylesheet" type="text/css" media="all" />
<title>Python Setup on Windows, with Cygwin </title>
</head>
<h1>Python Setup on Windows, with Cygwin</h1>
<h2>The Issue</h2>
<p>  
  Mixing Python on Windows, with Cygwin installed is a pain:
</p><ul>
  <li>Native Windows Python doesn't recognize cygwin paths (e.g. <kbd>/cygdrive/c</kbd>)  </li>
  <li>Cygwin python doesn't deal with a ;-separated <code>PYTHONPATH</code> environment variable  </li>
</ul>
<p>So how can one work with both?</p>
<h2>The Ideal Solution</h2>
<p>The ideal is:</p>
<ol>
  <li> Shebang line that should work everwhere, also on linux/unix: '#!/bin/env python' was would be ideal  </li>
  <li>PYTHONPATH var that must only be set once  </li>
  <li>Ability to start python scripts from batch file or shell script on Windows, and from shell script on linux/unix  </li>
</ol>
<h2>The Workaround</h2>
<p>My current work-around involves following setup:</p>
<ol>
  <li>(Make sure .py files are started by the Windows PYTHON automatically by file association - Windows doesn't know about shebang lines)
    <ol>
      <li>Make sure Windows PYTHON comes before <kbd>Cygwin/bin</kbd> dir in PATH env. variable </li>
      <li>Ensures that Windows PYTHON will be found by cmd prompt and bat files </li>
      <li>Shell scripts and bash shell will still find Cygwin PYTHON as they always prepend the PATH with the Cygwin/bin dirs </li>
    </ol>
  </li>
  <li>Add following line to my .bashrc file, which ensures the <code>PYTHONPATH</code> must only be set once, and it must be set in true Windows style, with Windows paths and separated by semicolons:
    
    <br />
    <code>export PYTHONPATH=`echo $PYTHONPATH | sed -e 's#[\\]#/#g' | sed -e 's@^\([A-Za-z]\):@/cygdrive/\1@g' | sed -e 's@;\([A-Za-z]\):@;/cygdrive/\1@g' | sed -e 's@;@:@g'`
    </h2>
  </code>                  </li>
</ol>
</body>
</html>
